<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QuizRoom - Loading</title>
  <!-- Added new theme system -->
  <link rel="stylesheet" href="../../assets/css/theme.css">
  <link rel="stylesheet" href="../../assets/css/loading.css">
</head>
<body>
  <!-- Enhanced loading screen with modern design -->
  <div class="loading-container">
    <div class="loading-content">
      <div class="logo-section">
        <div class="logo-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 12l2 2 4-4"/>
            <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3"/>
            <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3"/>
          </svg>
        </div>
        <h1 class="logo-text">QuizRoom</h1>
      </div>

      <div class="loading-animation">
        <div class="spinner-container">
          <div class="spinner"></div>
          <div class="spinner-glow"></div>
        </div>
        <div class="loading-text">Loading your experience...</div>
        <div class="loading-subtitle">Please wait while we prepare everything</div>
      </div>

      <div class="loading-progress">
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
        <div class="progress-text">
          <span id="progressText">Initializing...</span>
          <span id="progressPercent">0%</span>
        </div>
      </div>
    </div>

    <!-- Added floating particles animation -->
    <div class="particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>
  </div>

  <!-- Added theme manager -->
  <script src="../../assets/js/theme-manager.js"></script>
  <script>
    // Enhanced loading simulation
    let progress = 0;
    const progressFill = document.getElementById('progressFill');
    const progressText = document.getElementById('progressText');
    const progressPercent = document.getElementById('progressPercent');
    
    const loadingSteps = [
      { text: 'Initializing...', duration: 800 },
      { text: 'Loading components...', duration: 1200 },
      { text: 'Connecting to server...', duration: 1000 },
      { text: 'Preparing interface...', duration: 900 },
      { text: 'Almost ready...', duration: 600 }
    ];
    
    let currentStep = 0;
    
    function updateProgress() {
      if (currentStep < loadingSteps.length) {
        const step = loadingSteps[currentStep];
        progressText.textContent = step.text;
        
        const targetProgress = ((currentStep + 1) / loadingSteps.length) * 100;
        
        const interval = setInterval(() => {
          progress += 2;
          if (progress >= targetProgress) {
            progress = targetProgress;
            clearInterval(interval);
            currentStep++;
            if (currentStep < loadingSteps.length) {
              setTimeout(updateProgress, 200);
            }
          }
          
          progressFill.style.width = progress + '%';
          progressPercent.textContent = Math.round(progress) + '%';
        }, step.duration / 50);
      }
    }
    
    // Start loading animation
    setTimeout(updateProgress, 500);
  </script>
</body>
</html>
